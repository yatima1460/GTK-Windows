# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

variables:
  VCPKG_URL: https://github.com/Microsoft/vcpkg.git
  VCPKG_VERSION: 2019.07

jobs:
- job:
  displayName: "GTK x86_64 VS2017"
  pool:
    name: 'Hosted VS2017'
  steps:
  - script: git clone --single-branch --branch $(VCPKG_VERSION) $(VCPKG_URL)
  - script: cd vcpkg
  - script: bootstrap-vcpkg.bat
    displayName: "Build vcpkg"
  - script: vcpkg integrate install
    displayName: "Install vcpkg"
  - script: vcpkg install gtk:x64-windows
    displayName: "Build gtk:x64-windows"
  - script: vcpkg export --zip gtk:x64-windows
    displayName: "Export gtk:x64-windows"

- job:
  displayName: "GTK x86_64 VS2019"
  pool:
    name: 'Hosted Windows 2019 with VS2019'
  steps:
  - script: git clone --single-branch --branch $(VCPKG_VERSION) $(VCPKG_URL)
  - script: cd vcpkg
  - script: bootstrap-vcpkg.bat
    displayName: "Build vcpkg"
  - script: vcpkg integrate install
    displayName: "Install vcpkg"
  - script: vcpkg install gtk:x64-windows
    displayName: "Build gtk:x64-windows"
  - script: vcpkg export --zip gtk:x64-windows
    displayName: "Export gtk:x64-windows"







